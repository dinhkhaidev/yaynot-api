{
  "swagger": "2.0",
  "info": {
    "version": "1.0.0",
    "title": "YayNot API",
    "description": "API documentation for YayNot social Q&A platform"
  },
  "host": "yaynot-api.vercel.app",
  "basePath": "/api",
  "schemes": ["https"],
  "securityDefinitions": {
    "AuthorizationHeader": {
      "type": "apiKey",
      "in": "header",
      "name": "authorization",
      "description": "Enter your Authorization token (e.g., eytokenabc123)"
    },
    "XApiUserHeader": {
      "type": "apiKey",
      "in": "header",
      "name": "x-api-user",
      "description": "Enter the user identifier (e.g., user123)"
    }
  },
  "security": [
    {
      "AuthorizationHeader": []
    },
    {
      "XApiUserHeader": []
    }
  ],
  "definitions": {
    "User": {
      "type": "object",
      "required": ["email", "name", "password"],
      "properties": {
        "email": {
          "type": "string",
          "format": "email"
        },
        "name": {
          "type": "string",
          "minLength": 2,
          "maxLength": 30
        },
        "password": {
          "type": "string",
          "minLength": 6
        }
      }
    },
    "LoginUser": {
      "type": "object",
      "required": ["email", "password"],
      "properties": {
        "email": {
          "type": "string",
          "format": "email"
        },
        "password": {
          "type": "string",
          "minLength": 6
        }
      }
    },
    "LogoutUser": {
      "type": "object",
      "required": ["id", "token"],
      "properties": {
        "id": {
          "type": "string"
        },
        "token": {
          "type": "string",
          "pattern": "^Bearer\\s[\\w-]+\\.[\\w-]+\\.[\\w-]+$"
        }
      }
    },
    "Question": {
      "type": "object",
      "required": ["title", "content"],
      "properties": {
        "title": {
          "type": "string",
          "minLength": 2,
          "maxLength": 100
        },
        "content": {
          "type": "string",
          "minLength": 2,
          "maxLength": 200
        },
        "topicId": {
          "type": "string",
          "pattern": "^[0-9a-fA-F]{24}$"
        },
        "image": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "tags": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "UpdateQuestion": {
      "type": "object",
      "required": ["content"],
      "properties": {
        "title": {
          "type": "string",
          "minLength": 2,
          "maxLength": 200
        },
        "content": {
          "type": "string",
          "minLength": 2,
          "maxLength": 200
        },
        "image": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "tags": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "Comment": {
      "type": "object",
      "required": ["content", "questionId"],
      "properties": {
        "commentParentId": {
          "type": "string",
          "pattern": "^[0-9a-fA-F]{24}$"
        },
        "content": {
          "type": "string",
          "minLength": 2,
          "maxLength": 300
        },
        "questionId": {
          "type": "string",
          "pattern": "^[0-9a-fA-F]{24}$"
        }
      }
    },
    "Vote": {
      "type": "object",
      "required": ["questionId", "voteType"],
      "properties": {
        "questionId": {
          "type": "string",
          "pattern": "^[0-9a-fA-F]{24}$"
        },
        "voteType": {
          "type": "boolean"
        }
      }
    },
    "UserProfile": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "minLength": 3,
          "maxLength": 255
        },
        "birthday": {
          "type": "string",
          "format": "date"
        },
        "avatar": {
          "type": "string",
          "format": "uri"
        },
        "biography": {
          "type": "string",
          "minLength": 1,
          "maxLength": 300
        },
        "link": {
          "type": "string",
          "format": "uri"
        },
        "gender": {
          "type": "string",
          "enum": ["male", "female", "other"]
        }
      }
    },
    "UpdateAvatar": {
      "type": "object",
      "required": ["url"],
      "properties": {
        "url": {
          "type": "string",
          "format": "uri"
        }
      }
    },
    "Follow": {
      "type": "object",
      "required": ["followingId"],
      "properties": {
        "followingId": {
          "type": "string",
          "pattern": "^[0-9a-fA-F]{24}$"
        }
      }
    },
    "Notification": {
      "type": "object",
      "required": ["title", "content", "type"],
      "properties": {
        "title": {
          "type": "string",
          "minLength": 2,
          "maxLength": 150
        },
        "content": {
          "type": "string",
          "maxLength": 300
        },
        "type": {
          "type": "string",
          "enum": ["all", "q0001", "message", "comment"]
        }
      }
    },
    "NotificationMQ": {
      "type": "object",
      "required": [
        "title",
        "content",
        "type",
        "senderId",
        "receiveId",
        "message"
      ],
      "properties": {
        "title": {
          "type": "string",
          "minLength": 2,
          "maxLength": 150
        },
        "content": {
          "type": "string",
          "maxLength": 300
        },
        "type": {
          "type": "string",
          "enum": ["all", "q0001", "message", "comment"]
        },
        "senderId": {
          "type": "string",
          "pattern": "^[0-9a-fA-F]{24}$"
        },
        "receiveId": {
          "type": "string",
          "pattern": "^[0-9a-fA-F]{24}$"
        },
        "message": {
          "type": "string",
          "minLength": 5,
          "maxLength": 200
        }
      }
    }
  },
  "paths": {
    "/v1/auth/register": {
      "post": {
        "tags": ["Authentication"],
        "summary": "Register new user",
        "description": "Create a new user account",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/User"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "User created successfully"
          },
          "400": {
            "description": "Bad Request - Validation error"
          },
          "409": {
            "description": "Conflict - User already exists"
          }
        }
      }
    },
    "/v1/auth/login": {
      "post": {
        "tags": ["Authentication"],
        "summary": "User login",
        "description": "Authenticate user and return JWT token",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/LoginUser"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Login successful"
          },
          "400": {
            "description": "Bad Request - Invalid credentials"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/v1/auth/logout": {
      "post": {
        "tags": ["Authentication"],
        "summary": "User logout",
        "description": "Logout user and invalidate token",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/LogoutUser"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Logout successful"
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/v1/auth/refresh-token": {
      "post": {
        "tags": ["Authentication"],
        "summary": "Refresh JWT token",
        "description": "Get new access token using refresh token",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "responses": {
          "200": {
            "description": "Token refreshed successfully"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/v1/auth/verify": {
      "post": {
        "tags": ["Authentication"],
        "summary": "Verify OTP",
        "description": "Verify email with OTP code",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "otp": {
                  "type": "string",
                  "description": "OTP code"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OTP verified successfully"
          },
          "400": {
            "description": "Bad Request - Invalid OTP"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/v1/emails/resend": {
      "post": {
        "tags": ["Email"],
        "summary": "Resend OTP",
        "description": "Resend OTP verification email",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "responses": {
          "200": {
            "description": "OTP resent successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "429": {
            "description": "Too many requests"
          }
        }
      }
    },
    "/v1/questions": {
      "post": {
        "tags": ["Questions"],
        "summary": "Create new question",
        "description": "Create a new question",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/Question"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Question created successfully"
          },
          "400": {
            "description": "Bad Request - Validation error"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      },
      "get": {
        "tags": ["Questions"],
        "summary": "Get list of questions",
        "description": "Retrieve paginated list of questions",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "type": "integer",
            "description": "Page number"
          },
          {
            "name": "limit",
            "in": "query",
            "type": "integer",
            "description": "Number of items per page"
          }
        ],
        "responses": {
          "200": {
            "description": "Questions retrieved successfully"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/v1/questions/{id}": {
      "post": {
        "tags": ["Questions"],
        "summary": "Update question",
        "description": "Update existing question by ID",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "^[0-9a-fA-F]{24}$"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/UpdateQuestion"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Question updated successfully"
          },
          "400": {
            "description": "Bad Request - Validation error"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Not owner"
          },
          "404": {
            "description": "Question not found"
          }
        }
      }
    },
    "/v1/questions/drafts": {
      "get": {
        "tags": ["Questions"],
        "summary": "Get draft questions",
        "description": "Get all draft questions for current user",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "responses": {
          "200": {
            "description": "Draft questions retrieved successfully"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/v1/questions/{questionId}": {
      "get": {
        "tags": ["Questions"],
        "summary": "Get question by ID",
        "description": "Retrieve specific question by ID",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "questionId",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "^[0-9a-fA-F]{24}$"
          }
        ],
        "responses": {
          "200": {
            "description": "Question retrieved successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Question not found"
          }
        }
      },
      "patch": {
        "tags": ["Questions"],
        "summary": "Soft delete question",
        "description": "Soft delete question (mark as deleted)",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "questionId",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "^[0-9a-fA-F]{24}$"
          }
        ],
        "responses": {
          "200": {
            "description": "Question soft deleted successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Not owner"
          },
          "404": {
            "description": "Question not found"
          }
        }
      },
      "delete": {
        "tags": ["Questions"],
        "summary": "Hard delete question",
        "description": "Permanently delete question",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "questionId",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "^[0-9a-fA-F]{24}$"
          }
        ],
        "responses": {
          "200": {
            "description": "Question deleted successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Not owner"
          },
          "404": {
            "description": "Question not found"
          }
        }
      }
    },
    "/v1/questions/publish/{questionId}": {
      "get": {
        "tags": ["Questions"],
        "summary": "Get published questions",
        "description": "Get all published questions",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "questionId",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "^[0-9a-fA-F]{24}$"
          }
        ],
        "responses": {
          "200": {
            "description": "Published questions retrieved successfully"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/v1/questions/status/{questionId}": {
      "post": {
        "tags": ["Questions"],
        "summary": "Change question status",
        "description": "Change question status (publish, draft, archive)",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "questionId",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "^[0-9a-fA-F]{24}$"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "status": {
                  "type": "string",
                  "enum": ["publish", "draft", "archive"]
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Question status changed successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Not owner"
          },
          "404": {
            "description": "Question not found"
          }
        }
      }
    },
    "/v1/questions/visibility/{questionId}": {
      "post": {
        "tags": ["Questions"],
        "summary": "Change question visibility",
        "description": "Change question visibility (public, private, follower_only)",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "questionId",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "^[0-9a-fA-F]{24}$"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "visibility": {
                  "type": "string",
                  "enum": ["public", "private", "follower_only"]
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Question visibility changed successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Not owner"
          },
          "404": {
            "description": "Question not found"
          }
        }
      }
    },
    "/v1/questions/{questionId}/bookmark": {
      "post": {
        "tags": ["Questions"],
        "summary": "Bookmark a question",
        "description": "Add a question to user's bookmarks",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "questionId",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "^[0-9a-fA-F]{24}$"
          }
        ],
        "responses": {
          "200": {
            "description": "Question bookmarked successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Question not found"
          }
        }
      },
      "delete": {
        "tags": ["Questions"],
        "summary": "Remove bookmark from question",
        "description": "Remove a question from user's bookmarks",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "questionId",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "^[0-9a-fA-F]{24}$"
          }
        ],
        "responses": {
          "200": {
            "description": "Bookmark removed successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Question not found"
          }
        }
      }
    },
    "/v1/questions/me/bookmarks": {
      "get": {
        "tags": ["Questions"],
        "summary": "Get user's bookmarked questions",
        "description": "Retrieve all questions bookmarked by the current user",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "type": "integer",
            "default": 1
          },
          {
            "name": "limit",
            "in": "query",
            "type": "integer",
            "default": 10
          }
        ],
        "responses": {
          "200": {
            "description": "Bookmarked questions retrieved successfully"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/v1/questions/{questionId}/view": {
      "post": {
        "tags": ["Questions"],
        "summary": "Increment question view count",
        "description": "Track a view on a question",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "questionId",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "^[0-9a-fA-F]{24}$"
          }
        ],
        "responses": {
          "200": {
            "description": "View count incremented successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Question not found"
          }
        }
      }
    },
    "/v1/questions/{questionId}/share": {
      "post": {
        "tags": ["Questions"],
        "summary": "Increment question share count",
        "description": "Track a share on a question",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "questionId",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "^[0-9a-fA-F]{24}$"
          }
        ],
        "responses": {
          "200": {
            "description": "Share count incremented successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Question not found"
          }
        }
      }
    },
    "/v1/questions/{questionId}/care": {
      "post": {
        "tags": ["Questions"],
        "summary": "Care about a question",
        "description": "Mark a question as cared by the user to receive updates",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "questionId",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "^[0-9a-fA-F]{24}$"
          }
        ],
        "responses": {
          "200": {
            "description": "Question cared successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Question not found"
          }
        }
      }
    },
    "/v1/questions/{questionId}/uncare": {
      "delete": {
        "tags": ["Questions"],
        "summary": "Stop caring about a question",
        "description": "Remove care from a question",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "questionId",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "^[0-9a-fA-F]{24}$"
          }
        ],
        "responses": {
          "200": {
            "description": "Care removed successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Question not found"
          }
        }
      }
    },
    "/v1/questions/me/care-questions": {
      "get": {
        "tags": ["Questions"],
        "summary": "Get user's cared questions",
        "description": "Retrieve all questions that the current user cares about",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "type": "integer",
            "default": 1
          },
          {
            "name": "limit",
            "in": "query",
            "type": "integer",
            "default": 10
          }
        ],
        "responses": {
          "200": {
            "description": "Cared questions retrieved successfully"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/v1/questions/{questionId}/history": {
      "get": {
        "tags": ["Questions"],
        "summary": "Get question edit history",
        "description": "Retrieve the edit history of a question",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "questionId",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "^[0-9a-fA-F]{24}$"
          }
        ],
        "responses": {
          "200": {
            "description": "Question history retrieved successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Question not found"
          }
        }
      }
    },
    "/v1/comments": {
      "post": {
        "tags": ["Comments"],
        "summary": "Create comment",
        "description": "Create a new comment on a question",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/Comment"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Comment created successfully"
          },
          "400": {
            "description": "Bad Request - Validation error"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      },
      "get": {
        "tags": ["Comments"],
        "summary": "Get comments",
        "description": "Get list of comments",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "questionId",
            "in": "query",
            "type": "string",
            "pattern": "^[0-9a-fA-F]{24}$"
          }
        ],
        "responses": {
          "200": {
            "description": "Comments retrieved successfully"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      },
      "patch": {
        "tags": ["Comments"],
        "summary": "Update comment",
        "description": "Update existing comment",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "commentId": {
                  "type": "string",
                  "pattern": "^[0-9a-fA-F]{24}$"
                },
                "content": {
                  "type": "string",
                  "minLength": 2,
                  "maxLength": 300
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Comment updated successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Not owner"
          }
        }
      },
      "delete": {
        "tags": ["Comments"],
        "summary": "Delete comment",
        "description": "Delete existing comment",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "commentId": {
                  "type": "string",
                  "pattern": "^[0-9a-fA-F]{24}$"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Comment deleted successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Not owner"
          }
        }
      }
    },
    "/v1/comments/{commentId}/like": {
      "post": {
        "tags": ["Comments"],
        "summary": "Like comment",
        "description": "Like a comment",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "commentId",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "^[0-9a-fA-F]{24}$"
          }
        ],
        "responses": {
          "200": {
            "description": "Comment liked successfully"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      },
      "delete": {
        "tags": ["Comments"],
        "summary": "Unlike comment",
        "description": "Remove like from comment",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "commentId",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "^[0-9a-fA-F]{24}$"
          }
        ],
        "responses": {
          "200": {
            "description": "Comment unliked successfully"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/v1/comments/{commentId}/likes": {
      "get": {
        "tags": ["Comments"],
        "summary": "Get comment likes",
        "description": "Get list of users who liked the comment",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "commentId",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "^[0-9a-fA-F]{24}$"
          }
        ],
        "responses": {
          "200": {
            "description": "Comment likes retrieved successfully"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/v1/comments/{commentId}/pin": {
      "patch": {
        "tags": ["Comments"],
        "summary": "Pin comment",
        "description": "Pin a comment to the top of the question",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "commentId",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "^[0-9a-fA-F]{24}$"
          }
        ],
        "responses": {
          "200": {
            "description": "Comment pinned successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Only question owner can pin comments"
          },
          "404": {
            "description": "Comment not found"
          }
        }
      }
    },
    "/v1/votes": {
      "post": {
        "tags": ["Votes"],
        "summary": "Vote on question",
        "description": "Upvote or downvote a question",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/Vote"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Vote recorded successfully"
          },
          "400": {
            "description": "Bad Request - Validation error"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/v1/votes/{voteId}": {
      "delete": {
        "tags": ["Votes"],
        "summary": "Delete vote",
        "description": "Remove vote from question",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "voteId",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "^[0-9a-fA-F]{24}$"
          }
        ],
        "responses": {
          "200": {
            "description": "Vote deleted successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Not owner"
          }
        }
      }
    },
    "/v1/votes/{questionId}": {
      "get": {
        "tags": ["Votes"],
        "summary": "Get vote details",
        "description": "Get vote details for a question",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "questionId",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "^[0-9a-fA-F]{24}$"
          }
        ],
        "responses": {
          "200": {
            "description": "Vote details retrieved successfully"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/v1/profile": {
      "patch": {
        "tags": ["User Profile"],
        "summary": "Update user profile",
        "description": "Update or create user profile",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/UserProfile"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Profile updated successfully"
          },
          "400": {
            "description": "Bad Request - Validation error"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      },
      "get": {
        "tags": ["User Profile"],
        "summary": "Get user profile",
        "description": "Get current user profile information",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "responses": {
          "200": {
            "description": "Profile retrieved successfully"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/v1/profile/avatar": {
      "patch": {
        "tags": ["User Profile"],
        "summary": "Update avatar",
        "description": "Update user avatar URL",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/UpdateAvatar"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Avatar updated successfully"
          },
          "400": {
            "description": "Bad Request - Validation error"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/v1/uploads/{type}": {
      "post": {
        "tags": ["Upload"],
        "summary": "Upload image",
        "description": "Upload image by type",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "consumes": ["multipart/form-data"],
        "parameters": [
          {
            "name": "type",
            "in": "path",
            "required": true,
            "type": "string",
            "enum": ["avatar", "post", "thumb", "comment"]
          },
          {
            "name": "w",
            "in": "query",
            "required": true,
            "type": "integer",
            "description": "Image width"
          },
          {
            "name": "h",
            "in": "query",
            "required": true,
            "type": "integer",
            "description": "Image height"
          },
          {
            "name": "image",
            "in": "formData",
            "type": "file",
            "required": true,
            "description": "Image file to upload"
          }
        ],
        "responses": {
          "200": {
            "description": "Image uploaded successfully"
          },
          "400": {
            "description": "Bad Request - Validation error"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/v1/follows": {
      "post": {
        "tags": ["Follow"],
        "summary": "Follow user",
        "description": "Follow another user",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/Follow"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "User followed successfully"
          },
          "400": {
            "description": "Bad Request - Validation error"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      },
      "delete": {
        "tags": ["Follow"],
        "summary": "Unfollow user",
        "description": "Unfollow a user",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/Follow"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "User unfollowed successfully"
          },
          "400": {
            "description": "Bad Request - Validation error"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/v1/follows/followers": {
      "get": {
        "tags": ["Follow"],
        "summary": "Get followers",
        "description": "Get list of followers",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "responses": {
          "200": {
            "description": "Followers retrieved successfully"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/v1/follows/followings": {
      "get": {
        "tags": ["Follow"],
        "summary": "Get followings",
        "description": "Get list of users being followed",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "responses": {
          "200": {
            "description": "Followings retrieved successfully"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/v1/chats/conventions": {
      "get": {
        "tags": ["Chat"],
        "summary": "Get conversations",
        "description": "Get list of user conversations",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "responses": {
          "200": {
            "description": "Conversations retrieved successfully"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/v1/chats/{convoId}/messages": {
      "get": {
        "tags": ["Chat"],
        "summary": "Get conversation messages",
        "description": "Get messages from a specific conversation",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "convoId",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "^[0-9a-fA-F]{24}$"
          }
        ],
        "responses": {
          "200": {
            "description": "Messages retrieved successfully"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/v1/chats/{convoId}/find": {
      "get": {
        "tags": ["Chat"],
        "summary": "Search messages",
        "description": "Search messages in a conversation",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "convoId",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "^[0-9a-fA-F]{24}$"
          },
          {
            "name": "q",
            "in": "query",
            "type": "string",
            "description": "Search query"
          }
        ],
        "responses": {
          "200": {
            "description": "Search results retrieved successfully"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/v1/notifications": {
      "post": {
        "tags": ["Notifications"],
        "summary": "Send notification",
        "description": "Send push notification (Admin only)",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/Notification"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Notification sent successfully"
          },
          "400": {
            "description": "Bad Request - Validation error"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Admin only"
          }
        }
      },
      "get": {
        "tags": ["Notifications"],
        "summary": "Get notifications",
        "description": "Get list of user notifications",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "responses": {
          "200": {
            "description": "Notifications retrieved successfully"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/v1/notifications/marked/{notificationId}": {
      "patch": {
        "tags": ["Notifications"],
        "summary": "Mark notification as read",
        "description": "Mark notification as read",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "notificationId",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "^[0-9a-fA-F]{24}$"
          }
        ],
        "responses": {
          "200": {
            "description": "Notification marked as read"
          },
          "400": {
            "description": "Bad Request - Validation error"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/v1/notifications/{notificationId}": {
      "delete": {
        "tags": ["Notifications"],
        "summary": "Delete notification",
        "description": "Delete a notification",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "notificationId",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "^[0-9a-fA-F]{24}$"
          }
        ],
        "responses": {
          "200": {
            "description": "Notification deleted successfully"
          },
          "400": {
            "description": "Bad Request - Validation error"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/v1/reports": {
      "post": {
        "tags": ["Reports"],
        "summary": "Create report",
        "description": "Submit a report for inappropriate content",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "required": ["targetType", "targetId", "reportType", "reason"],
              "properties": {
                "targetType": {
                  "type": "string",
                  "enum": ["question", "comment", "user"],
                  "description": "Type of content being reported"
                },
                "targetId": {
                  "type": "string",
                  "pattern": "^[0-9a-fA-F]{24}$",
                  "description": "ID of the content being reported"
                },
                "reportType": {
                  "type": "string",
                  "enum": [
                    "spam",
                    "harassment",
                    "inappropriate",
                    "misinformation",
                    "other"
                  ],
                  "description": "Type of report"
                },
                "reason": {
                  "type": "string",
                  "minLength": 10,
                  "maxLength": 500,
                  "description": "Detailed reason for the report"
                },
                "additionalInfo": {
                  "type": "string",
                  "description": "Additional information"
                }
              }
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Report created successfully"
          },
          "400": {
            "description": "Bad Request - Validation error"
          },
          "401": {
            "description": "Unauthorized"
          },
          "429": {
            "description": "Too many requests - Rate limit exceeded"
          }
        }
      }
    },
    "/v1/reports/my-reports": {
      "get": {
        "tags": ["Reports"],
        "summary": "Get my reports",
        "description": "Get all reports submitted by the current user",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "type": "integer",
            "default": 1
          },
          {
            "name": "limit",
            "in": "query",
            "type": "integer",
            "default": 10
          },
          {
            "name": "status",
            "in": "query",
            "type": "string",
            "enum": ["pending", "reviewing", "resolved", "rejected"]
          }
        ],
        "responses": {
          "200": {
            "description": "Reports retrieved successfully"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/v1/reports/{id}": {
      "get": {
        "tags": ["Reports"],
        "summary": "Get report by ID",
        "description": "Get detailed information about a specific report",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "^[0-9a-fA-F]{24}$"
          }
        ],
        "responses": {
          "200": {
            "description": "Report retrieved successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Report not found"
          }
        }
      },
      "delete": {
        "tags": ["Reports"],
        "summary": "Cancel report",
        "description": "Cancel a pending report submitted by the user",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "^[0-9a-fA-F]{24}$"
          }
        ],
        "responses": {
          "200": {
            "description": "Report cancelled successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Cannot cancel report"
          },
          "404": {
            "description": "Report not found"
          }
        }
      }
    },
    "/rbac/resource": {
      "post": {
        "tags": ["RBAC"],
        "summary": "Create resource",
        "description": "Create new RBAC resource",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "responses": {
          "201": {
            "description": "Resource created successfully"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      },
      "get": {
        "tags": ["RBAC"],
        "summary": "Get resources",
        "description": "Get list of RBAC resources",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "responses": {
          "200": {
            "description": "Resources retrieved successfully"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/rbac/role": {
      "post": {
        "tags": ["RBAC"],
        "summary": "Create role",
        "description": "Create new RBAC role",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "responses": {
          "201": {
            "description": "Role created successfully"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      },
      "get": {
        "tags": ["RBAC"],
        "summary": "Get roles",
        "description": "Get list of RBAC roles",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "responses": {
          "200": {
            "description": "Roles retrieved successfully"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/admin/v1/reports": {
      "get": {
        "tags": ["Admin - Reports"],
        "summary": "Get all reports (Admin)",
        "description": "Get all reports with filters - Admin only",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "type": "integer",
            "default": 1
          },
          {
            "name": "limit",
            "in": "query",
            "type": "integer",
            "default": 10
          },
          {
            "name": "status",
            "in": "query",
            "type": "string",
            "enum": ["pending", "reviewing", "resolved", "rejected"]
          },
          {
            "name": "targetType",
            "in": "query",
            "type": "string",
            "enum": ["question", "comment", "user"]
          },
          {
            "name": "reportType",
            "in": "query",
            "type": "string",
            "enum": [
              "spam",
              "harassment",
              "inappropriate",
              "misinformation",
              "other"
            ]
          }
        ],
        "responses": {
          "200": {
            "description": "Reports retrieved successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Admin only"
          }
        }
      }
    },
    "/admin/v1/reports/stats": {
      "get": {
        "tags": ["Admin - Reports"],
        "summary": "Get report statistics (Admin)",
        "description": "Get statistical data about reports - Admin only",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "responses": {
          "200": {
            "description": "Statistics retrieved successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Admin only"
          }
        }
      }
    },
    "/admin/v1/reports/{id}": {
      "get": {
        "tags": ["Admin - Reports"],
        "summary": "Get report detail (Admin)",
        "description": "Get detailed information about a specific report - Admin only",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "^[0-9a-fA-F]{24}$"
          }
        ],
        "responses": {
          "200": {
            "description": "Report retrieved successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Admin only"
          },
          "404": {
            "description": "Report not found"
          }
        }
      }
    },
    "/admin/v1/reports/{id}/review": {
      "put": {
        "tags": ["Admin - Reports"],
        "summary": "Review report (Admin)",
        "description": "Review and take action on a report - Admin only",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "^[0-9a-fA-F]{24}$"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "required": ["status", "actionTaken"],
              "properties": {
                "status": {
                  "type": "string",
                  "enum": ["reviewing", "resolved", "rejected"]
                },
                "actionTaken": {
                  "type": "string",
                  "enum": ["hide", "delete", "warn", "ban", "none"]
                },
                "reviewNote": {
                  "type": "string",
                  "maxLength": 500
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Report reviewed successfully"
          },
          "400": {
            "description": "Bad Request - Validation error"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Admin only"
          },
          "404": {
            "description": "Report not found"
          }
        }
      }
    },
    "/admin/v1/reports/target/{targetType}/{targetId}": {
      "get": {
        "tags": ["Admin - Reports"],
        "summary": "Get reports by target (Admin)",
        "description": "Get all reports for a specific target - Admin only",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "targetType",
            "in": "path",
            "required": true,
            "type": "string",
            "enum": ["question", "comment", "user"]
          },
          {
            "name": "targetId",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "^[0-9a-fA-F]{24}$"
          }
        ],
        "responses": {
          "200": {
            "description": "Reports retrieved successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Admin only"
          }
        }
      }
    },
    "/admin/v1/questions": {
      "get": {
        "tags": ["Admin - Questions"],
        "summary": "Get all questions (Admin)",
        "description": "Get all questions with filters - Admin only",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "type": "integer",
            "default": 1
          },
          {
            "name": "limit",
            "in": "query",
            "type": "integer",
            "default": 10
          },
          {
            "name": "status",
            "in": "query",
            "type": "string",
            "enum": ["draft", "publish", "archive"]
          },
          {
            "name": "visibility",
            "in": "query",
            "type": "string",
            "enum": ["public", "private", "follower_only"]
          }
        ],
        "responses": {
          "200": {
            "description": "Questions retrieved successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Admin only"
          }
        }
      }
    },
    "/admin/v1/questions/{questionId}": {
      "get": {
        "tags": ["Admin - Questions"],
        "summary": "Get question detail (Admin)",
        "description": "Get detailed information about a question - Admin only",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "questionId",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "^[0-9a-fA-F]{24}$"
          }
        ],
        "responses": {
          "200": {
            "description": "Question retrieved successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Admin only"
          },
          "404": {
            "description": "Question not found"
          }
        }
      },
      "delete": {
        "tags": ["Admin - Questions"],
        "summary": "Hard delete question (Admin)",
        "description": "Permanently delete a question - Admin only",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "questionId",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "^[0-9a-fA-F]{24}$"
          }
        ],
        "responses": {
          "200": {
            "description": "Question deleted successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Admin only"
          },
          "404": {
            "description": "Question not found"
          }
        }
      }
    },
    "/admin/v1/questions/{questionId}/soft-delete": {
      "patch": {
        "tags": ["Admin - Questions"],
        "summary": "Soft delete question (Admin)",
        "description": "Mark question as deleted without removing from database - Admin only",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "questionId",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "^[0-9a-fA-F]{24}$"
          }
        ],
        "responses": {
          "200": {
            "description": "Question soft deleted successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Admin only"
          },
          "404": {
            "description": "Question not found"
          }
        }
      }
    },
    "/admin/v1/questions/{questionId}/status": {
      "post": {
        "tags": ["Admin - Questions"],
        "summary": "Change question status (Admin)",
        "description": "Change question status - Admin only",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "questionId",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "^[0-9a-fA-F]{24}$"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "status": {
                  "type": "string",
                  "enum": ["publish", "draft", "archive"]
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Question status changed successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Admin only"
          },
          "404": {
            "description": "Question not found"
          }
        }
      }
    },
    "/admin/v1/questions/{questionId}/visibility": {
      "post": {
        "tags": ["Admin - Questions"],
        "summary": "Change question visibility (Admin)",
        "description": "Change question visibility - Admin only",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "questionId",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "^[0-9a-fA-F]{24}$"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "visibility": {
                  "type": "string",
                  "enum": ["public", "private", "follower_only"]
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Question visibility changed successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Admin only"
          },
          "404": {
            "description": "Question not found"
          }
        }
      }
    },
    "/admin/v1/questions/{questionId}/history": {
      "get": {
        "tags": ["Admin - Questions"],
        "summary": "Get question history (Admin)",
        "description": "Get edit history of a question - Admin only",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "questionId",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "^[0-9a-fA-F]{24}$"
          }
        ],
        "responses": {
          "200": {
            "description": "Question history retrieved successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Admin only"
          },
          "404": {
            "description": "Question not found"
          }
        }
      }
    },
    "/admin/v1/comments": {
      "get": {
        "tags": ["Admin - Comments"],
        "summary": "Get all comments (Admin)",
        "description": "Get all comments with filters - Admin only",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "questionId",
            "in": "query",
            "type": "string",
            "pattern": "^[0-9a-fA-F]{24}$"
          },
          {
            "name": "page",
            "in": "query",
            "type": "integer",
            "default": 1
          },
          {
            "name": "limit",
            "in": "query",
            "type": "integer",
            "default": 10
          }
        ],
        "responses": {
          "200": {
            "description": "Comments retrieved successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Admin only"
          }
        }
      },
      "delete": {
        "tags": ["Admin - Comments"],
        "summary": "Delete comment (Admin)",
        "description": "Delete a comment - Admin only",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "commentId": {
                  "type": "string",
                  "pattern": "^[0-9a-fA-F]{24}$"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Comment deleted successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Admin only"
          },
          "404": {
            "description": "Comment not found"
          }
        }
      }
    },
    "/admin/v1/comments/{commentId}/likes": {
      "get": {
        "tags": ["Admin - Comments"],
        "summary": "Get comment likes (Admin)",
        "description": "Get list of users who liked the comment - Admin only",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "commentId",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "^[0-9a-fA-F]{24}$"
          }
        ],
        "responses": {
          "200": {
            "description": "Comment likes retrieved successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Admin only"
          }
        }
      }
    },
    "/admin/v1/votes/{questionId}": {
      "get": {
        "tags": ["Admin - Votes"],
        "summary": "Get vote details (Admin)",
        "description": "Get vote details for a question - Admin only",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "questionId",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "^[0-9a-fA-F]{24}$"
          }
        ],
        "responses": {
          "200": {
            "description": "Vote details retrieved successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Admin only"
          }
        }
      }
    },
    "/admin/v1/votes/{voteId}": {
      "delete": {
        "tags": ["Admin - Votes"],
        "summary": "Delete vote (Admin)",
        "description": "Delete a vote - Admin only",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "voteId",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "^[0-9a-fA-F]{24}$"
          }
        ],
        "responses": {
          "200": {
            "description": "Vote deleted successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Admin only"
          }
        }
      }
    },
    "/admin/v1/notifications": {
      "post": {
        "tags": ["Admin - Notifications"],
        "summary": "Send push notification (Admin)",
        "description": "Send push notification to users - Admin only",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/Notification"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Notification sent successfully"
          },
          "400": {
            "description": "Bad Request - Validation error"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Admin only"
          }
        }
      },
      "get": {
        "tags": ["Admin - Notifications"],
        "summary": "Get all notifications (Admin)",
        "description": "Get all notifications in the system - Admin only",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "type": "integer",
            "default": 1
          },
          {
            "name": "limit",
            "in": "query",
            "type": "integer",
            "default": 10
          }
        ],
        "responses": {
          "200": {
            "description": "Notifications retrieved successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Admin only"
          }
        }
      }
    },
    "/admin/v1/emails/template": {
      "post": {
        "tags": ["Admin - Emails"],
        "summary": "Create email template (Admin)",
        "description": "Create new email template - Admin only",
        "security": [{ "AuthorizationHeader": [], "XApiUserHeader": [] }],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "required": ["name", "subject", "content"],
              "properties": {
                "name": {
                  "type": "string",
                  "description": "Template name"
                },
                "subject": {
                  "type": "string",
                  "description": "Email subject"
                },
                "content": {
                  "type": "string",
                  "description": "Email HTML content"
                }
              }
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Email template created successfully"
          },
          "400": {
            "description": "Bad Request - Validation error"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Admin only"
          }
        }
      }
    }
  }
}
